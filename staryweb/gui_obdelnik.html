<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1250">
  <meta name="generator" content="PSPad editor, www.pspad.com">
  <title>Java - ukázková aplikace s GUI</title>
  <style type="text/css">  
  .console {  
    background-color: black;  
    color: #ffffff;  
    font-family: courier;  
  }  
  </style>
  <link href="syntax/Styles/SyntaxHighlighter.css" rel="stylesheet" type="text/css">
  <script language="javascript" type="text/javascript" src="syntax/Scripts/shCore.js"></script>   
  <script language="javascript" type="text/javascript" src="syntax/Scripts/shBrushJava.js"></script>   

   
  </head>
  <body>
 
<h1>Grafické uživatelské rozhraní (GUI)</h1>

<p>Vytvoøíme aplikaci, jejímž základem je tøída Frame (èesky rámec). Tato tøída slouží k vytvoøení základu bìžného okna (zatím bez menu, tlaèítek a jiných ovládacích prvkù). Do tohoto rámce vložíme nejprve panely (tøída Panel). Do jednotlivých panelù poté postupnì vložíme jednotlivé ovládací prvky. Z ovládacích prvkù si zatím vystaèíme s textovými políèky (tøída TextField), textovými popiskami (tøída Label) a tlaèítky (tøída Button).</p>

<img src="obr/Kalkulacka_0_1.png" alt="Kalkulacka_0_1.png, 8,5kB" title="Kalkulacka_0_1" height="106" width="407">

<p>
Panely si mùžete barevnì zvýraznit tak, že odkomentujete (odstraníte zpìtná lomítka) z øádkù, které jsou v kódu obarveny zelenì). Tak uvidíte, jakou èást rámce jednotlivé panely zabírají a jak se jejich rozmìry pøizpùsobily vloženým ovládacím prvkùm.</p>

<img src="obr/Kalkulacka_0_1_barva.png" alt="Kalkulacka_0_1_barva.png, 8,7kB" title="Kalkulacka_0_1_barva" height="102" width="403">

<p>
V následujícím kódu si všimnìte 4 základních krokù pro zprovoznìní tlaèítka "Vypoèítej".</p>
<ol>
 <li>Nejprve vytvoøíme instanci tøídy Button, kterou pojmenujeme napøíklad <code>vypocitejButton</code>.</li>
 <li>Tuto instanci umístíme napøíklad do pravého panelu voláním metody <code>pravyPanel.add(vypocitejButton)</code>. Pokud v tuto chvíli aplikaci spustíme, tlaèítko "Vypoèítej" uvidíme, ale zatím nebude funkèní.</li>
 <li>Pokud chceme, aby tlaèítko reagovalo na nìjakou událost (napøíklad kliknutí), musíme mu pøiøadit tzv. posluchaèe událostí. To lze provést voláním metody <code>vypocitejButton.addActionListener(new vypocitejButtonAL())</code>. V parametru této metody vytváøíme instanci tøídy <code>vypocitejButtonAL()</code>, která je definovaná o nìkolik øádkù kódu níže.</li>
 <li>Definujeme tøídu <code>vypocitejButtonAL</code>, která implementujeme jedinou metodu <code>actionPerformed(ActionEvent e)</code> rozhraní ActionListener. V tìle této metody se provede seètení èísel. Všimnìte si, že pøed seètením je nutno nejprve pøevést textové øetezce na èísla (typ Double) a po seètení zase pøevést výsledek zpìt na textový øetìzec (typ String).</li>
</ol>

<p>
Podobnì jako tlaèítko "Vypoèítej" se do jednotlivých panelù pøidávají i další ovládací prvky - textová políèka (tøída TextField) a textové popisky (tøída Label). Tìmto ovládacím prvkùm zatím nepøiøadíme žádné posluchaèe událostí (v naší velmi jednoduché aplikaci je zatím nepotøebujeme).
</p>


<pre name="code" class="java">
import java.awt.*;
import java.awt.event.*;

public class Kalkulacka extends Frame {

  Panel levyPanel = new Panel();
  Panel stredniPanel = new Panel();
  Panel pravyPanel = new Panel();
  Panel dolniPanel = new Panel();
  TextField prvniTextField = new TextField(5);
  TextField druheTextField = new TextField(5);
  Label plusLabel = new Label("+");
  Label vysledekLabel = new Label("=                                 ");
  Label oprogramuLabel = new Label("Kalkulaèka verze 0.1");
  Button vypocitejButton = new Button("Vypoèítej");          // vytvoøíme instanci tøídy Button (tlaèítko "Vypoèítej")

  public Kalkulacka() {
    super.setTitle(getClass().getName());
    this.setSize(400, 100);
    this.add(levyPanel, BorderLayout.WEST);
    //levyPanel.setBackground(Color.ORANGE);
    this.add(pravyPanel, BorderLayout.EAST);
    //pravyPanel.setBackground(Color.CYAN);
    this.add(stredniPanel, BorderLayout.CENTER);
    //stredniPanel.setBackground(Color.GREEN);
    this.add(dolniPanel, BorderLayout.SOUTH);  
    //dolniPanel.setBackground(Color.PINK);  
    levyPanel.add(prvniTextField);
    levyPanel.add(plusLabel);          
    //plusLabel.setBackground(Color.YELLOW);
    levyPanel.add(druheTextField);
    stredniPanel.add(vysledekLabel);
    //vysledekLabel.setBackground(Color.YELLOW);
    pravyPanel.add(vypocitejButton);                        // umístíme tlaèítko "Vypoèítej" do pravého panelu
    dolniPanel.add(oprogramuLabel);    
    //oprogramuLabel.setBackground(Color.YELLOW);
    
    vypocitejButton.addActionListener(new VypocitejButtonAL());  // pøiøadíme tlaèítku posluchaèe událostí (instanci tøídy VypocitejButtonAL)

    this.addWindowListener(new WindowAdapter() {
      public void windowClosing(WindowEvent e) {
        System.exit(1);
      }
    });
  }

  class VypocitejButtonAL implements ActionListener {
    public void actionPerformed(ActionEvent e) {            // implementujeme metodu actionPerformed(), v jejímž tìle se provede seètení èísel
      double a = Double.parseDouble(prvniTextField.getText());
      double b = Double.parseDouble(druheTextField.getText());
      vysledekLabel.setText(String.valueOf(a + b));                   
    }
  }
 
  public static void main(String[] args) {
    new Kalkulacka().setVisible(true);
  }
}
</pre> 


 
  <h1>Ukázová aplikace - kreslení geometrických útvarù</h1>
  <h2>Tøída Kreslitko</h2>
  
<pre name="code" class="java">
import java.awt.*;
import java.awt.event.*;

public class Kreslitko extends Frame {

  Obdelnik obdelnik = new Obdelnik(50, 80);
  Platno platno = new Platno();
  Panel panel = new Panel();


  public Kreslitko() {
    super.setTitle(getClass().getName());

    this.add(platno, BorderLayout.CENTER);    
    this.add(panel, BorderLayout.SOUTH);
    
    Button zvetsiBT = new Button("Zvìtši");
    panel.add(zvetsiBT);
    zvetsiBT.addActionListener(new zvetsiBTAL());

    this.setSize(800, 600);

    this.addWindowListener(new WindowAdapter() {
      public void windowClosing(WindowEvent e) {
        System.exit(1);
      }
    });
  }

  class zvetsiBTAL implements ActionListener {
    public void actionPerformed(ActionEvent e) {
      obdelnik.setDelka(200);
      obdelnik.setSirka(200);
      platno.repaint();
    }
  }

  class Platno extends Canvas {  
    public void paint(Graphics g) {    
     g.setColor(Color.blue);
     g.fillRect(100, 100, obdelnik.getSirka(), obdelnik.getDelka());      
    }  
  }  
  
  public static void main(String[] args) {
    new Kreslitko().setVisible(true);
  }
}
</pre> 






<h2>Tøída Obdelnik</h2>
<pre name="code" class="java">  
class Obdelnik {
  private int horniRohX=50;
  private int horniRohY=50;
  private int delka;
  private int sirka;
  
  public Obdelnik() {
    this.delka = 100;
    this.sirka = 100;  
  }
    
  public Obdelnik(int delka) {
    this.delka = delka;
    this.sirka = delka;  
  }

  public Obdelnik(int delka, int sirka) {
    this.delka = delka;
    this.sirka = sirka;  
  }  
  
  public int getDelka() {
    return delka;
  }
  
  public int getSirka() {
    return sirka;
  }

  public void setDelka(int delka) {
    this.delka = delka;
  }
  
  public void setSirka(int sirka) {
    this.sirka = sirka;
  }  
   
}
</pre>

Cvièení:
<ol>
<li> Doplòte do tøídy Obdelník konstruktory umožòující nastavení polohy pravého horního rohu.</li>
<li> Doplòte do tøídy Obdelník metody pro zmìnu polohy pravého horního rohu.</li>
<li> Doplòte do tøídy Kreslítko další tlaèítko pro zmìnu polohy obdélníku.</li>
<li> Doplòte do tøídy Kreslítko další instanci objektu Obdelnik (jednoduše øeèeno zobrazte na plátnì další obdélník) a doplòte další tlaèítko pro zmìnu polohy (nebo velikosti) tohoto dalšího obdélníku.</li>
<li> Doplòte do tøídy Obdelnik další atribut barva (deklarujte jej jako objekt typu Color). Umožnìte jeho nastavení pomocí konstruktorù a dále pomocí metody setBarva(). Dále doplòte možnost zjistit barvu objektu Obdelnik pomocí metody getBarva(). Nakonec doplòte do tøídy Kreslitko tlaèítko, které obdélník pøebarví na èervený.</li>
</ol>

 


  <script language="javascript" type="text/javascript">  
   dp.SyntaxHighlighter.ClipboardSwf = "syntax/Styles/clipboard.swf";   
   dp.SyntaxHighlighter.BloggerMode();  
   dp.SyntaxHighlighter.HighlightAll('code');   
  </script>    
  </body>
</html>

