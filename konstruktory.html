<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1250">
  <meta name="generator" content="PSPad editor, www.pspad.com">
  <title>Java - konstruktory</title>
  <style type="text/css"> 
  h1 {color: #2174DF; margin-top: 50px; margin-bottom: 10px}
  h2 {margin-top: 20px; margin-bottom: 0px} 
  .console {  
    background-color: black;  
    color: #ffffff;  
    font-family: courier;  
  }  
  </style>
  <link href="syntax/Styles/shCore.css" rel="stylesheet" type="text/css">
  <link href="syntax/Styles/shThemeDefault.css" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="syntax/Scripts/shCore.js"></script>   
  <script type="text/javascript" src="syntax/Scripts/shBrushJava.js"></script>   

   
  </head>
  <body>
 


  <h1>Bezparametrický konstruktor</h1>

  <h2>Tøída Obdelnik</h2>
<p>Pøi vytvoøení objektu je vždy volán nìkterý konstruktor. V naší první ukázce je uveden jediný konstruktor, který nemá žádné parametry a jeho úkolem je nastavit výchozí hodnoty èlenských promìnných na implicitní hodnoty. Voláním tohoto konstruktoru vždy vytvoøíme stejný obdelník s rozmìry 200 x 100 umístìný na pozici (50, 50). Následující kód vložte do souboru, který pojmenujte <code>Obdelnik.java</code></p> 

<pre name="code" class="brush: java">  
class Obdelnik {
  public int poziceX;
  public int poziceY;
  public int sirka;
  public int vyska;
  
  public Obdelnik() {               // bezparametrický konstruktor
    this.poziceX = 50;
    this.poziceY = 50;  
    this.sirka = 200;
    this.vyska = 100;  
  }  
     
}
</pre>

  <h2>Tøída Kreslitko</h2>
<p>Tøídu <code>Obdelnik</code> bude využívat tøída <code>Kreslitko</code>, ve které nejprve vytvoøíme pomocí bezparametrického konstruktoru jednu instanci tøídy <code>Obdelnik</code> (pojmenujeme ji tøeba <code>ob</code>) a potom ji nakreslíme. Následující kód vložte do souboru, který pojmenujte <code>Kreslitko.java</code>.</p> 
  
<pre name="code" class="brush: java">
import java.awt.*;
import java.awt.event.*;

public class Kreslitko extends Frame {

  Obdelnik ob = new Obdelnik();        // zde voláme bezparametrický konstruktor 
  Platno pl = new Platno();

  public Kreslitko() {
    super.setTitle("Konstruktory");
    this.setSize(800, 600);
    this.add(pl, BorderLayout.CENTER);    

    this.addWindowListener(new WindowAdapter() {
      public void windowClosing(WindowEvent e) {
        System.exit(1);
      }
    });
  }

  class Platno extends Canvas {  
    public void paint(Graphics g) {    
     g.setColor(Color.RED);
     g.fillRect(ob.poziceX, ob.poziceY, ob.sirka, ob.vyska);      
    }  
  }  
  
  public static void main(String[] args) {
    new Kreslitko().setVisible(true);
  }
}
</pre> 





  <h1>Konstruktor s jedním parametrem</h1>

  <h2>Tøída Obdelnik</h2>
<p>Nyní do definice tøídy <code>Obdelnik</code> pøidáme konstruktor s jedním parametrem. Následující kód doplòte do definice tøídy <code>Obdelnik</code> z pøedchozí ukázky.</p>

<pre name="code" class="brush: java">  
  public Obdelnik(int velikost) {            
    this.poziceX = 50;                       // pozici ponecháme implicitnì nastavenou na (50, 50) 
    this.poziceY = 50;                      
    this.sirka = velikost;                   // šíøka i výška obdélníku bude stejná (bude to ètverec)
    this.vyska = velikost;                 
  }         
</pre>

  <h2>Tøída Kreslitko</h2>
<p>Ve tøídì <code>Kreslitko</code> vyzkoušíme volání výše uvedeného konstruktoru s jedním parametrem - vytvoøíme ètverec o velikosti 100 x 100. Sami najdìte, který øádek definice tøídy <code>Kreslitko</code> musíte zmìnit na následující tvar.</p>

<pre name="code" class="brush: java">
  Obdelnik ob = new Obdelnik(100);           // voláme konstruktor s jedním parametrem      
</pre> 





  <h1>Konstruktor se dvìma parametry</h1>

  <h2>Tøída Obdelnik</h2>
<p>Nyní do definice tøídy <code>Obdelnik</code> pøidáme konstruktor se dvìma parametry. Následující kód doplòte do definice tøídy <code>Obdelnik</code>.</p>

<pre name="code" class="brush: java">  
  public Obdelnik(int sirka, int vyska) {            
    this.poziceX = 50;                       // pozici ponecháme implicitnì nastavenou na (50, 50) 
    this.poziceY = 50;                      
    this.sirka = sirka;                      // parametr sirka 
    this.vyska = vyska;                      // parametr vyska
  }         
</pre>

  <h2>Tøída Kreslitko</h2>
<p>Ve tøídì <code>Kreslitko</code> vyzkoušíme volání výše uvedeného konstruktoru se dvìma parametry - vytvoøíme obdélník o velikosti napøíklad 150 x 50. Sami najdìte, který øádek definice tøídy <code>Kreslitko</code> musíte zmìnit na následující tvar.</p>

<pre name="code" class="brush: java">
  Obdelnik ob = new Obdelnik(150, 50);             // voláme konstruktor se dvìma parametry      
</pre> 



<h1>Konstruktor se ètyømi parametry</h1>

  <h2>Tøída Obdelnik</h2>
<p>Nyní do definice tøídy <code>Obdelnik</code> pøidáme konstruktor se ètyømi parametry. Následující kód doplòte do definice tøídy <code>Obdelnik</code>.</p>

<pre name="code" class="brush: java">  
  public Obdelnik(int poziceX, int poziceY, int sirka, int vyska) {            
    this.poziceX = poziceX;          
    this.poziceY = poziceY;                      
    this.sirka = sirka;                  
    this.vyska = vyska;                  
  }         
</pre>

  <h2>Tøída Kreslitko</h2>
<p>Ve tøídì <code>Kreslitko</code> vyzkoušíme volání výše uvedeného konstruktoru se ètyømi parametry - vytvoøíme obdélník o velikosti napøíklad 200 x 100 umístìný na pozici (400, 300). Sami najdìte, který øádek definice tøídy <code>Kreslitko</code> musíte zmìnit na následující tvar.</p>

<pre name="code" class="brush: java">
  Obdelnik ob = new Obdelnik(400, 300, 200, 100);         // voláme konstruktor se ètyømi parametry      
</pre> 





  <h1>Konstruktor s parametry jiného typu</h1>

  <h2>Tøída Obdelnik</h2>
<p>V definici tøídy <code>Obdelnik</code> již máme jeden konstruktor se dvìma parametry. Nyní pøidáme další konstruktor se dvìma parametry. Ale pozor, to je možné jedinì v pøípadì, že novì vložený konstruktor bude mít alespoò jeden parametr jiné typu (ne pouze typ <code>int</code> jako pùvodní kontruktor). Proto pøidáme další èlenskou promìnnou <code>barva</code>. Následující øádek vložte hned za øádky s deklaracemi èlenských promìnných tøídy <code>Obdelnik</code> (konkrétnì za deklaraci promìnné <code>vyska</code>).</p>

<pre name="code" class="brush: java">  
public Color barva;                          // nová promìnná barva
</pre>

<p>Promìnná <code>barva</code> bude objektem tøídy <code>Color</code>, což je tøída, která je definovaná v knihovnì AWT. Proto ještì musíme na první øádek souboru <code>Obdelnik.java</code> pøidat kód pro import knihovny AWT.</p>
                           
<pre name="code" class="brush: java">  
import java.awt.*;                           // zpøístupnìní knihovny AWT
</pre>

<p>Nyní již mùžeme do definice tøídy <code>Obdelnik</code> bez obav pøidat další konstruktor se dvìma parametry. </p> 

<pre name="code" class="brush: java">     
public Obdelnik(int velikost, Color barva) {            
  this.poziceX = 50;                         // pozici ponecháme implicitnì nastavenou na (50, 50) 
  this.poziceY = 50;                      
  this.sirka = velikost;                     // parametr velikost se použije pro šíøku i výšku obdélníku
  this.vyska = velikost;        
  this.barva = barva;                        // parametr barva slouží k nastavení libovolné barvy obdélníku
}         
</pre>
 

  <h2>Tøída Kreslitko</h2>
<p>Ve tøídì kreslitko vyzkoušíme volání výše uvedeného konstruktoru se dvìma parametry - vytvoøíme zelený ètverec o velikosti 100 x 100. Sami najdìte, který øádek definice tøídy <code>Kreslitko</code> musíte zmìnit na následující tvar.</p>

<pre name="code" class="brush: java">
Obdelnik ob = new Obdelnik(100, Color.GREEN);     // voláme konstruktor se dvìma parametry      
</pre> 

<p>Aby se barva nastavená obdélníku skuteènì použila pøi kreslení, musíme ještì provést drobnou zmìnu v metodì <code>Paint</code> tøídy <code>Platno</code>. Urèitì sami objevíte, na kterém øádku by mìla být provedena následující zmìna.</p>

<pre name="code" class="brush: java">
g.setColor(ob.barva);                             // zmìníme barvu pera
</pre>

<h2>Poznámka</h2>
<p>V pøedchozí ukázce si mùžete všimnout jednoho ze základních principù objektového programování - instance <code>ob</code> tøídy <code>Obdelnik</code> si s sebou "nese" informace potøebné pro své nakreslení (pozici, rozmìry i barvu). Tyto informace se použijí v metodì <code>Paint</code> tøídy <code>Platno</code>.</p>

<h1>Cvièení</h1>
<ol>
<li> Doplòte do tøídy <code>Obdelnik</code> jednoparametrický konstruktor umožòující pouze nastavení barvy obdélníku.</li>
<li> Doplòte do tøídy <code>Obdelnik</code> tøíparametrický konstruktor umožòující nastavení šíøky, výšky a barvy obdélníku.</li>
<li> Pokuste se doplnit do tøídy <code>Obdelnik</code> dvouparametrický konstruktor umožòující nastavení promìnných <code>poziceX</code> a <code>poziceY</code> a vysvìtlete chybu, kterou bude hlásit pøekladaè.</li>
<li> Doplòte do tøídy <code>Kreslítko</code> další instance objektu <code>Obdelnik</code> (jednoduše øeèeno, zobrazte na plátnì další obdélníky). Pøi vytváøení tìchto instancí využijte rùzné konstruktory, které jste vytvoøili v pøedchozích cvièeních</li>
<li> Vytvoøte novou tøídu <code>Kruh</code> (kód této tøídy vložte do samostatného souboru). Tato tøída bude mít pro zaèátek 3 èlenské promìnné typu <code>int</code> (<code>poziceX</code>, <code>poziceY</code>, <code>polomìr</code>). V definici této tøídy uveïte jednoparametrický konstruktor umožòující nastavit pouze polomìr kružnice, dále dvouparametrický konstruktor umožòující nastavit pouze promìnné <code>poziceX</code>, <code>poziceY</code> a koneènì tøíparametrický konstruktor, umožòující nastavit všechny tøi èlenské promìnné.</li> 
<li>Do tøídy <code>Kruh</code> doplòte ještì èlenskou promìnnou <code>barva</code> (instaci tøídy <code>Color</code>) a dále tøíparametrický konstruktor  umožòující nastavit promìnné <code>poziceX</code>, <code>poziceY</code> a <code>barva</code>.</li>
<li><b>Bonus:</b> Podívejte se na na YouTube na hezký video tutoriál <a href="http://www.youtube.com/watch?v=9sTPUlu_pSE">Konstruktor</a> a zkuste si popsaným zpùsobem vytvoøit  tøídu <code>Pes</code>. Kromì konstruktoru uvedného v ukázce vložte do definice tøídy <code>Pes</code> i jednoparametrický konstruktor umožnující nastavit vìk psa, dále dvouparametrický konstruktor umožnující nastavit vìk a rasu psa a koneènì tøíparametrický konstruktor, umožòující nastavit vìk, výšku a rasu psa. Potom si pomocí tìchto konstruktorù zkuste vytvoøit nìkolik rùzných instancí tøídy <code>Pes</code> (pojmenujte je napøíklad Alik, Rex, Zeryk, atd.).</li>  
</ol>
 


  <script type="text/javascript">  
   SyntaxHighlighter.all("code")   
  </script>    
  </body>
</html>

